name: Create DEB Package and Attach to Release

on:
  push:
    branches:
      - main  # Змініть на вашу основну гілку

jobs:
  build:
    runs-on: ubuntu-latest  # Виконувати на останній версії Ubuntu

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      # Додайте кроки для збірки вашого проекту та створення .deb пакетів
      # Наприклад, використовуючи скрипти збірки, dpkg, або інші інструменти
      - run: sudo dpkg --build idinahui

      # Після створення пакетів, завантажте їх на GitHub та прикріпіть до релізу
      - name: Upload to Release Action
      # You may pin to the exact commit or the version.
      # uses: Shopify/upload-to-release@c77c9b3e5d288adaef98a7007bf92340ec6ce03b
        uses: Shopify/upload-to-release@v2.0.0
        with:
          name: Package
          path: ./idinahui.deb
          repo-token: ${{ secrets.GITHUB_TOKEN }}
